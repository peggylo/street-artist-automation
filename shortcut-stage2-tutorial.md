# 階段 2：網站開啟測試

## 🎯 測試目標

驗證 Shortcut 能自動開啟松菸網站首頁

**預估時間**：10 分鐘

---

## ⚠️ 重要說明

### 原計畫 vs 實際方案

**原計畫**：使用 Shortcut 的「在網頁上執行 JavaScript」動作自動導航和填表

**實際方案**：改用 Safari Bookmarklet（書籤）

**原因**：iOS Shortcut 的 JavaScript 動作不穩定，無法可靠地執行網頁自動化

---

## 📝 重點說明

這個階段只做：
1. 繼續在「測試雙檔案下載」Shortcut 上擴充
2. 加入「開啟 URL」動作，自動開啟松菸網站首頁
3. 加入語音提示

**不做**：網頁自動化（改由 Bookmarklet 處理）

---

## 📱 修改現有的 Shortcut

### 步驟 1：開啟「測試雙檔案下載」

1. 在 Shortcut App 中
2. 找到「測試雙檔案下載」
3. 點擊進入編輯模式

---

### 步驟 2：重新命名 Shortcut

1. 點擊上方的「測試雙檔案下載」文字
2. 改為：`松菸申請`
3. 點擊「完成」

---

## 🔧 加入新動作（共 3 個）

目前已有 10 個動作（下載兩個檔案），現在要加入 3 個新動作：

---

### 動作 11：開啟 URL

1. 滑到最下方，點擊搜尋框
2. 搜尋：`開啟 URL`
3. 點選「開啟 URL」動作
4. 在 URL 框中輸入：

```
https://www.songshanculturalpark.org/solicitation
```

---

### 動作 12：等待

1. 搜尋：`等待`
2. 點選「等待」動作
3. 改為：`2` 秒

---

### 動作 13：朗讀文字

1. 搜尋：`朗讀文字`
2. 點選「朗讀文字」動作
3. 輸入：`已開啟網站，請點擊松菸申請書籤`

---

## 📋 檢查完整流程

現在你的 Shortcut 應該有 **13 個動作**，分成三組：

**第一組：下載 PDF**（動作 1-5）
- 下載申請 PDF

**第二組：下載圖片**（動作 6-10）
- 下載街頭藝人證

**第三組：開啟網站**（動作 11-13）
11. 開啟 URL → `https://www.songshanculturalpark.org/solicitation`
12. 等待 2 秒
13. 朗讀文字：「已開啟網站，請點擊松菸申請書籤」

---

## ✅ 完成設定

1. 確認所有 13 個動作都正確
2. 點擊右上角「完成」

---

## 🚀 執行測試

### 執行步驟

1. 在「我的捷徑」頁面找到「松菸申請」
2. 點擊執行
3. Safari 會自動開啟松菸網站首頁

### 預期結果

**語音順序**：
1. 「PDF 下載完成」
2. 「檔案已存到下載項目」
3. 「街頭藝人證下載完成」
4. 「兩個檔案都下載好了」
5. 「已開啟網站，請點擊松菸申請書籤」

**視覺效果**：
- Safari 自動開啟松菸網站首頁

---

## ✅ 驗收標準

- [ ] **Safari 自動開啟松菸網站首頁**
- [ ] **聽到完整語音提示**
- [ ] **檔案成功下載到 iCloud Drive**

---

## ❓ 常見問題

### Q1：Safari 沒有自動開啟

**解決方式**：
1. 檢查動作 11 的 URL 是否正確
2. 確認已允許 Shortcut 開啟 URL

### Q2：語音沒有播放

**解決方式**：
1. 取消靜音模式
2. 調高音量
3. 重新執行

### Q3：檔案沒有下載

**解決方式**：
1. 檢查網路連線
2. 確認檔案 URL 正確
3. 查看 iCloud Drive 是否有空間

---

## 💡 額外說明

### 為什麼不用 Shortcut 自動點擊按鈕？

**原因**：iOS Shortcut 的「在網頁上執行 JavaScript」動作不穩定

**解決方案**：改用 Safari Bookmarklet（書籤）
- 點擊第一次：導航到表單頁
- 點擊第二次：自動填表

### Bookmarklet 相關檔案
- 原始碼：`songshan-bookmarklet.js`
- 壓縮版：`songshan-bookmarklet-minified.txt`
- 使用說明：`bookmarklet-使用說明.md`

---

## 🎉 完成階段 2！

恭喜！你已經完成：
- ✅ Shortcut 自動下載檔案
- ✅ Shortcut 自動開啟網站
- ✅ 語音提示正常運作

---

## 📋 下一步：設定 Bookmarklet

完成這個測試後，下一步：
1. 在 Safari 建立書籤「松菸申請」
2. 將 `songshan-bookmarklet-minified.txt` 的內容貼入書籤 URL
3. 測試書籤功能（點兩次完成導航和填表）

詳見：`bookmarklet-使用說明.md`

---

**建立日期**：2025-11-15  
**狀態**：階段 2 完成 ✅

